<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.1/css/bulma.min.css" integrity="sha256-CDVQJfU+jJGU/oyDzvnzuGXbv0rz+SyBsPQwyn7x/jQ="
    crossorigin="anonymous" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
    crossorigin="" />

  <title>wdmtech.co.uk</title>

  <style>
    .hero,
    hr,
    .leaflet-popup-content-wrapper {
      background-color: #08AEEA;
      background-image: -webkit-linear-gradient(0deg, #08AEEA 0%, #2AF598 100%);
      background-image: -moz-linear-gradient(0deg, #08AEEA 0%, #2AF598 100%);
      background-image: -o-linear-gradient(0deg, #08AEEA 0%, #2AF598 100%);
      background-image: linear-gradient(0deg, #08AEEA 0%, #2AF598 100%);
    }

    .leaflet-container { z-index: 9 }
    .modal { z-index: 10 }

    .modal-background {
      background-color: rgba(254, 225, 64, 0.4);
      background-image: -webkit-linear-gradient(90deg, #FEE140 0%, #FA709A 100%);
      background-image: -moz-linear-gradient(90deg, #FEE140 0%, #FA709A 100%);
      background-image: -o-linear-gradient(90deg, #FEE140 0%, #FA709A 100%);
      background-image: linear-gradient(90deg, rgba(254, 225, 64, .5) 0%, rgba(250, 112, 154, .5) 100%);
    } 

    .primary,
    strong {
      color: #2AF598 !important
    }
  </style>

</head>

<body>

  <div class="is-hidden" id="app">
    <section class="hero is-dark is-fullheight">
      <div class="hero-body">
        <div class="container">
          <div class="tile is-ancestor">
            <div class="tile is-vertical is-8">
              <div class="tile">
                <div class="tile is-parent">
                  <article class="tile is-child notification is-dark">
                    <p class="title">Will Murray</p>

                    <p>Hey! I&rsquo;m Will.</p>

                    <br>

                    <p>I make all sorts of digital products, including <strong>real-time APIs</strong> and intuitive, reactive
                      <strong>user interfaces</strong>.</p>

                  </article>

                </div>
                <div class="tile is-parent is-vertical">

                  <!-- pages -->

                  <article class="tile is-child notification is-dark">
                    <h2 class="title">Pages</h2>
                    <div class="primary columns is-multiline">
                      <a href="https://wdmtech.github.io/" target="_blank" class="column is-primary is-outlined">Resum√©</a>
                      <a href="https://github.com/wdmtech" target="_blank" class="column is-primary is-outlined">Github</a>
                      <a href="https://twitter.com/BillyWhizzkid" target="_blank" class="column is-primary is-outlined">@BillyWhizzkid</a>
                      <a href="https://linkedin.com/in/wdmtech" target="_blank" class="column is-primary is-outlined">LinkedIn</a>
                    </div>
                  </article>

                  <!-- status -->

                  <article class="tile is-child notification is-dark">
                    <p class="title">Status</p>
                    <p class="subtitle">Looking for opportunities!</p>
                    <button class="button is-success is-outlined" @click="show.contact = true">Drop me a line!</button>
                  </article>

                </div>
              </div>
              <div class="tile is-parent">

                <!-- map -->

                <article class="tile is-child notification is-dark">
                  <div class="content">
                    <p class="title">Location</p>
                    <p class="subtitle">Where in the world am I?</p>
                    <button class="button is-primary is-outlined" @click="showMap" v-show="!show.map">Find out!</button>
                    <div ref="map" style="width: 100%; height: 300px;"></div>
                  </div>
                </article>

              </div>
            </div>
            <div class="tile is-parent">
              <article class="tile is-child notification is-dark">

                <!-- journal -->

                <p class="title">Journal</p>

                <div>
                  <small class="primary">{{ journal[currentEntry].date | formatDate }}</small>
                  <p class="content" v-html="journal[currentEntry].content">

                  </p>
                </div>

                <hr>
                
                <nav class="pagination is-centered is-small" role="navigation" aria-label="pagination">
                  <a class="pagination-previous" @click="prevEntry" :disabled="currentEntry === 0">Newer</a>
                  <a class="pagination-next" @click="nextEntry" :disabled="currentEntry === journal.length - 1">Older</a>
                  <ul class="pagination-list">
                    <li><a class="pagination-link" @click="currentEntry = 0" aria-label="Goto page 1">1</a></li>
                    <li><a class="pagination-link" :aria-label="'Goto page' + currentEntry">{{ currentEntry + 1 }}</a></li>
                    <li><a class="pagination-link" @click="currentEntry = journal.length - 1" :aria-label="'Goto page' + journal.length - 1">{{ journal.length }}</a></li>
                  </ul>
                </nav>
                
                <hr>

                <!-- music -->

                <p class="title">Listening to</p>

                <div class="content" v-html="bandcampEmbedCode">

                </div>

                <button class="button is-primary is-outlined" @click="showBandcamp" v-if="!show.bandcamp">Find out!</button>
                <p v-if="show.bandcamp" class="subtitle">on <a href="https://bandcamp.com/purerizzo" target="_blank">Bandcamp</a></p>

              </article>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- footer -->

    <footer class="footer" style="background: #363636">
      <div class="container">
        <div class="content has-text-centered">
          <p>
            <a class="button is-link is-dark" href="http://bulma.io" target="_blank">Bulma</a>
            <a class="button is-link is-dark" href="https://vuejs.org" target="_blank">Vue.js</a>
            <a class="button is-link is-dark" href="http://leafletjs.com" target="_blank">Leaflet</a>
          </p>
        </div>
      </div>
    </footer>

    <!-- modal  -->

    <div class="modal" :class="{ 'is-active': show.contact }">
        <div class="modal-background" @click="show.contact = false"></div>
        <div class="modal-content">

            <section class="section is-small">
                <div class="field">
                  <p class="control">
                    <input v-model="form.contact.name" type="text" placeholder="Name" class="input" data-parsley-trigger="change" required="">
                  </p>
                </div>
                <div class="field">
                  <p class="control">
                    <input v-model="form.contact.email" type="email" placeholder="Email" class="input">
                  </p>
                </div>
                <div class="field">
                  <p class="control">
                    <input type="email "placeholder="Email" class="input" style="display: none">
                  </p>
                </div>
                <div class="field">
                  <p class="control">
                    <textarea v-model="form.contact.message" class="textarea"></textarea>
                  </p>
                </div>
                <div class="field">
                  <p class="control">
                    <button class="button is-pulled-right is-primary is-outlined" @click="send">
                      <span>Send</span>
                    </button>
                  </p>
                </div>
              </section>
        </div>
        <button class="modal-close is-large" aria-label="close" @click="show.contact = false"></button>
      </div>


  </div>

  <!-- loader -->

  <div id="loader" class="has-text-centered">

    <section class="hero is-fullheight">

      <div class="hero-body">
        <div class="container has-text-centered">
          <img src="loading.gif" alt>
        </div>
      </div>

    </section>

  </div>

  <script src="https://unpkg.com/vue"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js" integrity="sha256-1hjUhpc44NwiNg8OwMu2QzJXhD8kcj+sJA3aCQZoUjg="
    crossorigin="anonymous"></script>

  <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
    crossorigin=""></script>

  <script>
    var loader = document.getElementById('loader')
    Vue.filter('formatDate', function (value) {
      return moment(value, 'DD-MM-YYYY').format('dddd, MMMM Do YYYY')
    })
    new Vue({
      el: '#app',
      computed: {},
      data: {
        form: {
          contact: {
            name: '',
            email: '',
            message: '',
          }
        },
        show: {
          bandcamp: false,
          map: false,
          contact: false,
        },
        bandcampEmbedCode: '',
        journal: [
          { date: '2-9-2017', content: 'Themed this site a bit, added journals. Painting ceiling in main bedroom a bit later on. <br> <br> I hate decorating.' },
          { date: '1-9-2017', content: 'Left full-time employment to seek bigger things! Decorating room in prep for a lodger, life admin and just enjoying a nice day off!' },
        ],
        currentEntry: 0,
        locations: {
          andover: { lat: 51.2112, long: -1.4919 },
        },
      },
      mounted() {
        loader.classList.add('is-hidden')
        this.$el.classList.remove('is-hidden')
      },
      methods: {
        send () {
          console.log(this.form.contact)
        },
        prevEntry () { if (this.currentEntry >= 1) this.currentEntry-- },
        nextEntry () { if (this.currentEntry < this.journal.length - 1) this.currentEntry++ },
        showBandcamp() {
          this.bandcampEmbedCode = '<iframe style="border: 0; width: 100%; height: 120px;" src="https://bandcamp.com/EmbeddedPlayer/album=784538017/size=large/bgcol=333333/linkcol=2AF598/tracklist=false/artwork=small/transparent=true/" seamless><a href="http://mangadrive.bandcamp.com/album/death-turismo">Death Turismo by mangadrive</a></iframe>'
          this.show.bandcamp = true
        },
        showMap() {

          this.show.map = true

          console.log(this.$refs.map)

          var mymap = L.map(this.$refs.map).setView([this.locations.andover.lat, this.locations.andover.long], 8);

          L.tileLayer('http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
            subdomains: 'abcd',
            maxZoom: 19
          }).addTo(mymap);

          var marker = L.marker([this.locations.andover.lat, this.locations.andover.long]).addTo(mymap);

          marker.bindPopup("<img src='https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Alicante_Spain_CastilloSantaBarbara.jpg/220px-Alicante_Spain_CastilloSantaBarbara.jpg'>").openPopup();

        },
      },
    })
  </script>

  <script>

  </script>

</body>

</html>